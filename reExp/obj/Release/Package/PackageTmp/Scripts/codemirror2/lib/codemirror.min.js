var CodeMirror = function () {
    function k(a, b) {
        var c, d, e; function f(h) { return 0 <= h && h < l.size } function g(h) { for (var a = l; !a.lines; ) for (var j = 0; ; ++j) { var b = a.children[j], c = b.chunkSize(); if (h < c) { a = b; break } h -= c } return a.lines[h] } function N(h, a) { aa = !0; for (var j = a - h.height, b = h; b; b = b.parent) b.height += j } function Ga(h) { var a = { line: 0, ch: 0 }; Q(a, { line: l.size - 1, ch: g(l.size - 1).text.length }, Ha(h), a, a); ga = !0 } function Ua(h, a) {
            if ("string" == typeof h && (h = Xb[h], !h)) return !1; var j = W; try { i.readOnly && (Va = !0), a && (W = null), h(z) } catch (b) {
                if (b !=
zc) throw b; return !1
            } finally { W = j, Va = !1 } return !0
        } function Yb(h) {
            var a = qb(i.keyMap), j = a.auto; clearTimeout(Zb); j && !Ac(h) && (Zb = setTimeout(function () { qb(i.keyMap) == a && (i.keyMap = j.call ? j.call(null, z) : j) }, 50)); var b = qa[C(h, "keyCode")], c = !1; if (null == b || h.altGraphKey) return !1; C(h, "altKey") && (b = "Alt-" + b); C(h, "ctrlKey") && (b = "Ctrl-" + b); C(h, "metaKey") && (b = "Cmd-" + b); if (c = C(h, "shiftKey") ? Wa("Shift-" + b, i.extraKeys, i.keyMap, function (h) { return Ua(h, !0) }) || Wa(b, i.extraKeys, i.keyMap, function (h) {
                if ("string" == typeof h &&
/^go[A-Z]/.test(h)) return Ua(h)
            }) : Wa(b, i.extraKeys, i.keyMap, Ua)) x(h), ra && (h.oldKeyCode = h.keyCode, h.keyCode = 0); return c
        } function J(h, a) { var j = Wa("'" + a + "'", i.extraKeys, i.keyMap, Ua); j && x(h); return j } function $b(h) { X || ya(); ra && 27 == h.keyCode && (h.returnValue = !1); za && Xa() && (za = !1); if (!i.onKeyEvent || !i.onKeyEvent(z, rb(h))) { var a = C(h, "keyCode"); ac(16 == a || C(h, "shiftKey")); var j = Yb(h); window.opera && (sb = j ? a : null, !j && 88 == a && C(h, tb ? "metaKey" : "ctrlKey") && ba("")) } } function ya() {
            if ("nocursor" != i.readOnly) {
                if (!X) {
                    if (i.onFocus) i.onFocus(z);
                    X = !0; -1 == A.className.search(/\bCodeMirror-focused\b/) && (A.className += " CodeMirror-focused"); Ia || Ya(!0)
                } Za(); bc()
            } 
        } function R() { if (X) { if (i.onBlur) i.onBlur(z); X = !1; ha && n(function () { ha && (ha(), ha = null) })(); A.className = A.className.replace(" CodeMirror-focused", "") } clearInterval(ub); setTimeout(function () { X || (W = null) }, 150) } function Q(h, a, j, b, c) {
            if (!Va) {
                if (Y) { var d = []; l.iter(h.line, a.line + 1, function (h) { d.push(h.text) }); for (Y.addChange(h.line, j.length, d); Y.done.length > i.undoDepth; ) Y.done.shift() } cc(h, a, j,
b, c)
            } 
        } function M(h, a) { if (h.length) { for (var j = h.pop(), b = [], c = j.length - 1; 0 <= c; c -= 1) { var d = j[c], e = [], f = d.start + d.added; l.iter(d.start, f, function (h) { e.push(h.text) }); b.push({ start: d.start, added: d.old.length, old: e }); var i = B({ line: d.start + d.old.length - 1, ch: Bc(e[e.length - 1], d.old[d.old.length - 1]) }); cc({ line: d.start, ch: 0 }, { line: f - 1, ch: g(f - 1).text.length }, d.old, i, i) } ga = !0; a.push(b) } } function cc(h, a, j, b, w) {
            if (!Va) {
                var e = !1, f = ia.length; i.lineWrapping || l.iter(h.line, a.line, function (h) {
                    if (h.text.length == f) return e =
!0
                }); if (h.line != a.line || 1 < j.length) aa = !0; var F = a.line - h.line, o = g(h.line), q = g(a.line); if (0 == h.ch && 0 == a.ch && "" == j[j.length - 1]) { var S = [], o = null; h.line ? (o = g(h.line - 1), o.fixMarkEnds(q)) : q.fixMarkStarts(); for (var y = 0, n = j.length - 1; y < n; ++y) S.push(T.inheritMarks(j[y], o)); F && l.remove(h.line, F, Ja); S.length && l.insert(h.line, S) } else if (o == q) if (1 == j.length) o.replace(h.ch, a.ch, j[0]); else {
                    q = o.split(a.ch, j[j.length - 1]); o.replace(h.ch, null, j[0]); o.fixMarkEnds(q); S = []; y = 1; for (n = j.length - 1; y < n; ++y) S.push(T.inheritMarks(j[y],
o)); S.push(q); l.insert(h.line + 1, S)
                } else if (1 == j.length) o.replace(h.ch, null, j[0]), q.replace(null, a.ch, ""), o.append(q), l.remove(h.line + 1, F, Ja); else { S = []; o.replace(h.ch, null, j[0]); q.replace(null, a.ch, j[j.length - 1]); o.fixMarkEnds(q); y = 1; for (n = j.length - 1; y < n; ++y) S.push(T.inheritMarks(j[y], o)); 1 < F && l.remove(h.line + 1, F - 1, Ja); l.insert(h.line + 1, S) } if (i.lineWrapping) { var k = m.clientWidth / vb() - 3; l.iter(h.line, h.line + j.length, function (h) { if (!h.hidden) { var a = Math.ceil(h.text.length / k) || 1; a != h.height && N(h, a) } }) } else l.iter(h.line,
y + j.length, function (h) { h = h.text; h.length > f && (ia = h, f = h.length, ja = null, e = !1) }), e && (f = 0, ia = "", ja = null, l.iter(0, l.size, function (h) { h = h.text; h.length > f && (f = h.length, ia = h) })); q = []; F = j.length - F - 1; y = 0; for (S = ca.length; y < S; ++y) n = ca[y], n < h.line ? q.push(n) : n > a.line && q.push(n + F); y = h.line + Math.min(j.length, 500); Cc(h.line, y); q.push(y); ca = q; wb(100); Z.push({ from: h.line, to: a.line + 1, diff: F }); h = { from: h, to: a, text: j }; if (Ka) { for (j = Ka; j.next; j = j.next); j.next = h } else Ka = h; La(b, w, c.line <= Math.min(a.line, a.line + F) ? c.line : c.line +
F, d.line <= Math.min(a.line, a.line + F) ? d.line : d.line + F); m.clientHeight && (K.style.height = l.height * ka() + 2 * r.offsetTop + "px")
            } 
        } function H(h, a, j) { function b(c) { if (I(c, a)) return c; if (!I(j, c)) return w; var d = c.line + h.length - (j.line - a.line) - 1, pb = c.ch; c.line == j.line && (pb += h[h.length - 1].length - (j.ch - (j.line == a.line ? a.ch : 0))); return { line: d, ch: pb} } var a = B(a), j = j ? B(j) : a, h = Ha(h), w; G(h, a, j, function (h) { w = h; return { from: b(c), to: b(d)} }); return w } function ba(h, a) {
            G(Ha(h), c, d, function (h) {
                return "end" == a ? { from: h, to: h} : "start" ==
a ? { from: c, to: c} : { from: c, to: h}
            })
        } function G(h, a, j, b) { b = b({ line: a.line + h.length - 1, ch: 1 == h.length ? h[0].length + a.ch : h[h.length - 1].length }); Q(a, j, h, b.from, b.to) } function P(h, a) { var b = h.line, c = a.line; if (b == c) return g(b).text.slice(h.ch, a.ch); var d = [g(b).text.slice(h.ch)]; l.iter(b + 1, c, function (h) { d.push(h.text) }); d.push(g(c).text.slice(0, a.ch)); return d.join("\n") } function Aa() { return P(c, d) } function Za() { za || xb.set(i.pollInterval, function () { yb(); Xa(); X && Za(); zb() }) } function Ma() {
            function h() {
                yb(); !Xa() &&
!a ? (a = !0, xb.set(60, h)) : (za = !1, Za()); zb()
            } var a = !1; za = !0; xb.set(20, h)
        } function Xa() { if (Ia || !X || Dc(t) || i.readOnly) return !1; var h = t.value; if (h == la) return !1; W = null; for (var a = 0, b = Math.min(la.length, h.length); a < b && la[a] == h[a]; ) ++a; a < la.length ? c = { line: c.line, ch: c.ch - (la.length - a)} : $a && v(c, d) && (d = { line: d.line, ch: Math.min(g(d.line).text.length, d.ch + (h.length - a)) }); ba(h.slice(a), "end"); la = h; return !0 } function Ya(h) { v(c, d) ? h && (la = t.value = "") : (la = "", t.value = Aa(), dc(t)) } function ea() { "nocursor" != i.readOnly && t.focus() }
        function Ea() { if (O.getBoundingClientRect) { var h = O.getBoundingClientRect(); if (!(ra && h.top == h.bottom)) { var a = window.innerHeight || Math.max(document.body.offsetHeight, document.documentElement.offsetHeight); (0 > h.top || h.bottom > a) && O.scrollIntoView() } } } function wa() { var h = fa(e ? c : d), a = i.lineWrapping ? Math.min(h.x, r.offsetWidth) : h.x; return xa(a, h.y, a, h.yBot) } function xa(h, a, b, c) {
            var d = r.offsetLeft, e = r.offsetTop, a = a + e, c = c + e, h = h + d, b = b + d, f = m.clientHeight, g = m.scrollTop, d = !1, e = !0; a < g ? (m.scrollTop = Math.max(0, a),
d = !0) : c > g + f && (m.scrollTop = c - f, d = !0); a = m.clientWidth; c = m.scrollLeft; f = i.fixedGutter ? L.clientWidth : 0; h < c + f ? (50 > h && (h = 0), m.scrollLeft = Math.max(0, h - 10 - f), d = !0) : b > a + c - 3 && (m.scrollLeft = b + 10 - a, d = !0, b > K.clientWidth && (e = !1)); if (d && i.onScroll) i.onScroll(z); return e
        } function Fa() { var a = ka(), b = m.scrollTop - r.offsetTop, j = Math.max(0, Math.floor(b / a)), a = Math.ceil((b + m.clientHeight) / a); return { from: Ab(l, j), to: Ab(l, a)} } function sa(a, b) {
            function j() {
                ja = m.clientWidth; var a = U.firstChild, h = !1; l.iter(E, V, function (b) {
                    if (!b.hidden) {
                        var c =
Math.round(a.offsetHeight / q) || 1; b.height != c && (N(b, c), aa = h = !0)
                    } a = a.nextSibling
                }); h && (K.style.height = l.height * q + 2 * r.offsetTop + "px"); return h
            } if (m.clientWidth) {
                var c = Fa(); if (!(!0 !== a && 0 == a.length && c.from > E && c.to < V)) {
                    var d = Math.max(c.from - 100, 0), c = Math.min(l.size, c.to + 100); E < d && 20 > d - E && (d = E); V > c && 20 > V - c && (c = Math.min(l.size, V)); for (var e = !0 === a ? [] : ob([{ from: E, to: V, domStart: 0}], a), f = 0, g = 0; g < e.length; ++g) {
                        var o = e[g]; o.from < d && (o.domStart += d - o.from, o.from = d); o.to > c && (o.to = c); o.from >= o.to ? e.splice(g--, 1) :
f += o.to - o.from
                    } if (f != c - d) {
                        e.sort(function (a, h) { return a.domStart - h.domStart }); var q = ka(), f = L.style.display; U.style.display = "none"; Wb(d, c, e); U.style.display = L.style.display = ""; (g = d != E || c != V || ec != m.clientHeight + q) && (ec = m.clientHeight + q); E = d; V = c; Na = Bb(l, d); ab.style.top = Na * q + "px"; m.clientHeight && (K.style.height = l.height * q + 2 * r.offsetTop + "px"); if (U.childNodes.length != V - E) throw Error("BAD PATCH! " + JSON.stringify(e) + " size=" + (V - E) + " nodes=" + U.childNodes.length); i.lineWrapping ? j() : (null == ja && (ja = Cb(ia)), ja >
m.clientWidth ? (r.style.width = ja + "px", K.style.width = "", K.style.width = m.scrollWidth + "px") : r.style.width = K.style.width = ""); L.style.display = f; (g || aa) && Db() && i.lineWrapping && j() && Db(); fc(); if (!b && i.onUpdate) i.onUpdate(z); return !0
                    } 
                } 
            } else E = V = Na = 0
        } function ob(a, b) {
            for (var c = 0, d = b.length || 0; c < d; ++c) {
                for (var e = b[c], f = [], g = e.diff || 0, i = 0, o = a.length; i < o; ++i) {
                    var q = a[i]; e.to <= q.from && e.diff ? f.push({ from: q.from + g, to: q.to + g, domStart: q.domStart }) : e.to <= q.from || e.from >= q.to ? f.push(q) : (e.from > q.from && f.push({ from: q.from,
                        to: e.from, domStart: q.domStart
                    }), e.to < q.to && f.push({ from: e.to + g, to: q.to + g, domStart: q.domStart + (e.to - q.from) }))
                } a = f
            } return a
        } function Wb(a, b, c) {
            if (c.length) { for (var d = function (a) { var h = a.nextSibling; a.parentNode.removeChild(a); return h }, e = 0, f = U.firstChild, g = 0; g < c.length; ++g) { for (var i = c[g]; i.domStart > e; ) f = d(f), e++; for (var o = 0, i = i.to - i.from; o < i; ++o) f = f.nextSibling, e++ } for (; f; ) f = d(f) } else U.innerHTML = ""; var q = c.shift(), f = U.firstChild, o = a, n = document.createElement("div"); l.iter(a, b, function (a) {
                q && q.to ==
o && (q = c.shift()); if (!q || q.from > o) { if (a.hidden) var h = n.innerHTML = "<pre></pre>"; else h = "<pre" + (a.className ? ' class="' + a.className + '"' : "") + ">" + a.getHTML(gc) + "</pre>", a.bgClassName && (h = '<div style="position: relative"><pre class="' + a.bgClassName + '" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>' + h + "</div>"); n.innerHTML = h; U.insertBefore(n.firstChild, f) } else f = f.nextSibling; ++o
            })
        } function Db() {
            if (i.gutter || i.lineNumbers) {
                var a = ab.offsetHeight, b = m.clientHeight;
                L.style.height = (2 > a - b ? b : a) + "px"; var c = [], d = E, e; l.iter(E, Math.max(V, E + 1), function (a) { if (a.hidden) c.push("<pre></pre>"); else { var h = a.gutterMarker, b = i.lineNumbers ? d + i.firstLineNumber : null; h && h.text ? b = h.text.replace("%N%", null != b ? b : "") : null == b && (b = "\u00a0"); c.push(h && h.style ? '<pre class="' + h.style + '">' : "<pre>", b); for (b = 1; b < a.height; ++b) c.push("<br/>&#160;"); c.push("</pre>"); h || (e = d) } ++d }); L.style.display = "none"; Oa.innerHTML = c.join(""); if (null != e) {
                    for (var a = Oa.childNodes[e - E], b = ("" + l.size).length, f = a.textContent ||
a.innerText || a.nodeValue || "", g = ""; f.length + g.length < b; ) g += "\u00a0"; g && a.insertBefore(document.createTextNode(g), a.firstChild)
                } L.style.display = ""; a = 2 < Math.abs((parseInt(r.style.marginLeft) || 0) - L.offsetWidth); r.style.marginLeft = L.offsetWidth + "px"; aa = !1; return a
            } 
        } function fc() {
            var a = v(c, d), b = fa(c, !0), j = a ? b : fa(d, !0), f = e ? b : j, g = ka(), u = ta(A), s = ta(U); ua.style.top = Math.max(0, Math.min(m.offsetHeight, f.y + s.top - u.top)) + "px"; ua.style.left = Math.max(0, Math.min(m.offsetWidth, f.x + s.left - u.left)) + "px"; if (a) O.style.top =
f.y + "px", O.style.left = (i.lineWrapping ? Math.min(f.x, r.offsetWidth) : f.x) + "px", O.style.display = "", bb.style.display = "none"; else {
                var a = b.y == j.y, F = "", f = function (a, h, b, c) { F += '<div class="CodeMirror-selected" style="position: absolute; left: ' + a + "px; top: " + h + "px; right: " + b + "px; height: " + c + 'px"></div>' }, u = r.clientWidth || r.offsetWidth, s = r.clientHeight || r.offsetHeight; c.ch && 0 <= b.y && f(b.x, b.y, a ? u - j.x : 0, g); var b = Math.max(0, b.y + (c.ch ? g : 0)), o = Math.min(j.y, s) - b; o > 0.2 * g && f(0, b, 0, o); (!a || !c.ch) && j.y < s - 0.5 * g && f(0,
j.y, u - j.x, g); bb.innerHTML = F; O.style.display = "none"; bb.style.display = ""
            } 
        } function ac(a) { W = a ? W || (e ? d : c) : null } function ma(a, b) { var c = W && B(W); c && (I(c, a) ? a = c : I(b, c) && (b = c)); La(a, b); cb = !0 } function La(a, b, j, f) {
            db = null; null == j && (j = c.line, f = d.line); if (!v(c, a) || !v(d, b)) {
                if (I(b, a)) var w = b, b = a, a = w; a.line != j && ((j = eb(a, j, c.ch)) ? a = j : Eb(a.line, !1)); b.line != f && (b = eb(b, f, d.ch)); v(a, b) ? e = !1 : v(a, d) ? e = !1 : v(b, c) && (e = !0); if (i.autoClearEmptyLines && v(c, d) && (e ? a : b).line != c.line && c.line < l.size) {
                    var u = g(c.line); /^\s+$/.test(u.text) &&
setTimeout(n(function () { if (u.parent && /^\s+$/.test(u.text)) { var a = Ba(u); H("", { line: a, ch: 0 }, { line: a, ch: u.text.length }) } }, 10))
                } c = a; d = b; na = !0
            } 
        } function eb(a, b, c) { function d(b) { for (var $ = a.line + b, e = 1 == b ? l.size : -1; $ != e; ) { var f = g($); if (!f.hidden) { b = a.ch; if (b > c || b > f.text.length) b = f.text.length; return { line: $, ch: b} } $ += b } } return !g(a.line).hidden ? a : a.line >= b ? d(1) || d(-1) : d(-1) || d(1) } function oa(a, b, c) { a = B({ line: a, ch: b || 0 }); (c ? ma : La)(a, a) } function fb(a) { return Math.max(0, Math.min(a, l.size - 1)) } function B(a) {
            if (0 >
a.line) return { line: 0, ch: 0 }; if (a.line >= l.size) return { line: l.size - 1, ch: g(l.size - 1).text.length }; var b = a.ch, c = g(a.line).text.length; return null == b || b > c ? { line: a.line, ch: c} : 0 > b ? { line: a.line, ch: 0} : a
        } function Fb(a, b) {
            function j(b) { if (i == (0 > a ? 0 : s.text.length)) { if (b = !b)a: { for (var b = w + a, c = 0 > a ? -1 : l.size; b != c; b += a) { var d = g(b); if (!d.hidden) { w = b; s = d; b = !0; break a } } b = void 0 } if (b) i = 0 > a ? s.text.length : 0; else return !1 } else i += a; return !0 } var f = e ? c : d, w = f.line, i = f.ch, s = g(w); if ("char" == b) j(); else if ("column" == b) j(!0); else if ("word" ==
b) for (f = !1; !(0 > a) || j(); ) { if (Gb(s.text.charAt(i))) f = !0; else if (f) { 0 > a && (a = 1, j()); break } if (0 < a && !j()) break } return { line: w, ch: i}
        } function hc(a) { for (var b = g(a.line).text, c = a.ch, d = a.ch; 0 < c && Gb(b.charAt(c - 1)); ) --c; for (; d < b.length && Gb(b.charAt(d)); ) ++d; ma({ line: a.line, ch: c }, { line: a.line, ch: d }) } function Ec(a) { ma({ line: a, ch: 0 }, B({ line: a + 1, ch: 0 })) } function gb(a, b) {
            b || (b = "add"); if ("smart" == b) if (D.indent) var j = hb(a); else b = "prev"; var e = g(a), f = e.indentation(i.tabSize), u = e.text.match(/^\s*/)[0], s; "prev" == b ? s = a ?
g(a - 1).indentation(i.tabSize) : 0 : "smart" == b ? s = D.indent(j, e.text.slice(u.length), e.text) : "add" == b ? s = f + i.indentUnit : "subtract" == b && (s = f - i.indentUnit); s = Math.max(0, s); if (s - f) { f = ""; j = 0; if (i.indentWithTabs) for (e = Math.floor(s / i.tabSize); e; --e) j += i.tabSize, f += "\t"; for (; j < s; ) ++j, f += " " } else { if (c.line != a && d.line != a) return; f = u } H(f, { line: a, ch: 0 }, { line: a, ch: u.length })
        } function ic() { D = k.getMode(i, i.mode); l.iter(0, l.size, function (a) { a.stateAfter = null }); ca = [0]; wb() } function Fc() {
            if (i.lineWrapping) {
                A.className += " CodeMirror-wrap";
                var a = m.clientWidth / vb() - 3; l.iter(0, l.size, function (b) { if (!b.hidden) { var c = Math.ceil(b.text.length / a) || 1; 1 != c && N(b, c) } }); r.style.width = K.style.width = ""
            } else A.className = A.className.replace(" CodeMirror-wrap", ""), ja = null, ia = "", l.iter(0, l.size, function (a) { 1 != a.height && !a.hidden && N(a, 1); a.text.length > ia.length && (ia = a.text) }); Z.push({ from: 0, to: l.size })
        } function gc(a) { var a = i.tabSize - a % i.tabSize, b = jc[a]; if (b) return b; for (var b = '<span class="cm-tab">', c = 0; c < a; ++c) b += " "; return jc[a] = { html: b + "</span>", width: a} }
        function kc() { m.className = m.className.replace(/\s*cm-s-\w+/g, "") + i.theme.replace(/(^|\s)\s*/g, " cm-s-") } function Hb() { this.set = [] } function Ib(a, b, c) { function d(a, h, b, c) { g(a).addMark(new ib(h, b, c, e)) } var a = B(a), b = B(b), e = new Hb; if (!I(a, b)) return e; if (a.line == b.line) d(a.line, a.ch, b.ch, c); else { d(a.line, a.ch, null, c); for (var f = a.line + 1, i = b.line; f < i; ++f) d(f, null, null, c); d(b.line, null, b.ch, c) } Z.push({ from: a.line, to: b.line + 1 }); return e } function lc(a, b) {
            var c = a, d = a; "number" == typeof a ? d = g(fb(a)) : c = Ba(a); if (null !=
c && b(d, c)) Z.push({ from: c, to: c + 1 }); else return null; return d
        } function Eb(a, b) { return lc(a, function (a, h) { if (a.hidden != b) { a.hidden = b; N(a, b ? 0 : 1); var e = c.line, f = d.line; if (b && (e == h || f == h)) { e = e == h ? eb({ line: e, ch: 0 }, e, 0) : c; f = f == h ? eb({ line: f, ch: 0 }, f, 0) : d; if (!f) return; La(e, f) } return aa = !0 } }) } function Cb(a) { pa.innerHTML = "<pre><span>x</span></pre>"; pa.firstChild.firstChild.firstChild.nodeValue = a; return pa.firstChild.firstChild.offsetWidth || 10 } function mc(a, b) {
            if (0 == b) return { top: 0, left: 0 }; var c = ""; i.lineWrapping &&
(c = a.text.indexOf(" ", b + 6), c = da(a.text.slice(b + 1, 0 > c ? a.text.length : c + (ra ? 5 : 0)))); pa.innerHTML = "<pre>" + a.getHTML(gc, b) + '<span id="CodeMirror-temp-' + nc + '">' + da(a.text.charAt(b) || " ") + "</span>" + c + "</pre>"; var c = document.getElementById("CodeMirror-temp-" + nc), d = c.offsetTop, e = c.offsetLeft; ra && 0 == d && 0 == e && (d = document.createElement("span"), d.innerHTML = "x", c.parentNode.insertBefore(d, c.nextSibling), d = d.offsetTop); return { top: d, left: e}
        } function fa(a, b) {
            var c, d = ka(), e = d * (Bb(l, a.line) - (b ? Na : 0)); if (0 == a.ch) c = 0;
            else { var f = mc(g(a.line), a.ch); c = f.left; i.lineWrapping && (e += Math.max(0, f.top)) } return { x: c, y: e, yBot: e + d}
        } function Jb(a, b) {
            function c(a) { a = mc(n, a); if (q) { var b = Math.round(a.top / d); return Math.max(0, a.left + (b - k) * m.clientWidth) } return a.left } 0 > b && (b = 0); var d = ka(), e = vb(), f = Na + Math.floor(b / d), s = Ab(l, f); if (s >= l.size) return { line: l.size - 1, ch: g(l.size - 1).text.length }; var n = g(s), o = n.text, q = i.lineWrapping, k = q ? f - Bb(l, s) : 0; if (0 >= a && 0 == k) return { line: s, ch: 0 }; for (var y = f = 0, o = o.length, N, e = Math.min(o, Math.ceil((a + 0.9 *
k * m.clientWidth) / e)); ; ) { var r = c(e); if (r <= a && e < o) e = Math.min(o, Math.ceil(1.2 * e)); else { N = r; o = e; break } } if (a > N) return { line: s, ch: o }; e = Math.floor(0.8 * o); r = c(e); r < a && (f = e, y = r); for (; ; ) { if (1 >= o - f) return { line: s, ch: N - a > a - y ? f : o }; e = Math.ceil((f + o) / 2); r = c(e); r > a ? (o = e, N = r) : (f = e, y = r) } 
        } function ka() { if (null == va) { va = "<pre>"; for (var a = 0; 49 > a; ++a) va += "x<br/>"; va += "x</pre>" } a = U.clientHeight; if (a == oc) return Kb; oc = a; pa.innerHTML = va; Kb = pa.firstChild.offsetHeight / 50 || 1; pa.innerHTML = ""; return Kb } function vb() {
            if (m.clientWidth ==
pc) return qc; pc = m.clientWidth; return qc = Cb("x")
        } function Ca(a, b) { var c = ta(m, !0), d, e; try { d = a.clientX, e = a.clientY } catch (f) { return null } if (!b && (d - c.left > m.clientWidth || e - c.top > m.clientHeight)) return null; c = ta(r, !0); return Jb(d - c.left, e - c.top) } function rc(a) {
            function b() { var a = Ha(t.value).join("\n"); a != i && n(ba)(a, "end"); ua.style.position = "relative"; t.style.cssText = g; sc && (m.scrollTop = f); Ia = !1; Ya(!0); Za() } var e = Ca(a), f = m.scrollTop; if (e && !window.opera) {
                (v(c, d) || I(e, c) || !I(e, d)) && n(oa)(e.line, e.ch); var g =
t.style.cssText; ua.style.position = "absolute"; t.style.cssText = "position: fixed; width: 30px; height: 30px; top: " + (a.clientY - 5) + "px; left: " + (a.clientX - 5) + "px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);"; Ia = !0; var i = t.value = Aa(); ea(); dc(t); if (jb) { Pa(a); var l = p(window, "mouseup", function () { l(); setTimeout(b, 20) }, !0) } else setTimeout(b, 50)
            } 
        } function bc() {
            clearInterval(ub); var a = !0; O.style.visibility = ""; ub = setInterval(function () {
                O.style.visibility =
(a = !a) ? "" : "hidden"
            }, 650)
        } function tc(a) {
            function b(a, h, c) { if (a.text) for (var d = a.styles, a = s ? 0 : a.text.length - 1, e, f = s ? 0 : d.length - 2, j = s ? d.length : -2; f != j; f += 2 * m) { var g = d[f]; if (null != d[f + 1] && d[f + 1] != k) a += m * g.length; else for (var $ = s ? 0 : g.length - 1, i = s ? g.length : -1; $ != i; $ += m, a += m) if (a >= h && a < c && Aa.test(e = g.charAt($))) { var w = Lb[e]; if (">" == w.charAt(1) == s) N.push(e); else { if (N.pop() != w.charAt(0)) return { pos: a, match: !1 }; if (!N.length) return { pos: a, match: !0} } } } } var f = e ? c : d, i = g(f.line), w = f.ch - 1, u = 0 <= w && Lb[i.text.charAt(w)] ||
Lb[i.text.charAt(++w)]; if (u) {
                u.charAt(0); for (var s = ">" == u.charAt(1), m = s ? 1 : -1, o = i.styles, q = w + 1, u = 0, r = o.length; u < r; u += 2) if (0 >= (q -= o[u].length)) { var k = o[u + 1]; break } for (var N = [i.text.charAt(w)], Aa = /[(){}[\]]/, u = f.line, r = s ? Math.min(u + 100, l.size) : Math.max(-1, u - 100); u != r; u += m) { var i = g(u), t = u == f.line; if (t = b(i, t && s ? w + 1 : 0, t && !s ? w : i.text.length)) break } t || (t = { pos: null, match: !1 }); var k = t.match ? "CodeMirror-matchingbracket" : "CodeMirror-nonmatchingbracket", p = Ib({ line: f.line, ch: w }, { line: f.line, ch: w + 1 }, k), Ga = null !=
t.pos && Ib({ line: u, ch: t.pos }, { line: u, ch: t.pos + 1 }, k), f = n(function () { p.clear(); Ga && Ga.clear() }); a ? setTimeout(f, 800) : ha = f
            } 
        } function uc(a) { for (var b, c, d = a, a = a - 40; d > a; --d) { if (0 == d) return 0; var e = g(d - 1); if (e.stateAfter) return d; e = e.indentation(i.tabSize); if (null == c || b > e) c = d - 1, b = e } return c } function hb(a) { var b = uc(a), c = b && g(b - 1).stateAfter, c = c ? Da(D, c) : Mb(D); l.iter(b, a, function (a) { a.highlight(D, c, i.tabSize); a.stateAfter = Da(D, c) }); b < a && Z.push({ from: b, to: a }); a < l.size && !g(a).stateAfter && ca.push(a); return c } function Cc(a,
b) { var c = hb(a); l.iter(a, b, function (a) { a.highlight(D, c, i.tabSize); a.stateAfter = Da(D, c) }) } function Gc() {
    for (var a = +new Date + i.workTime, b = ca.length; ca.length; ) {
        var c = g(E).stateAfter ? ca.pop() : E; if (!(c >= l.size)) {
            var d = uc(c), e = d && g(d - 1).stateAfter, e = e ? Da(D, e) : Mb(D), f = 0, n = D.compareStates, m = !1, o = d, q = !1; l.iter(o, l.size, function (b) {
                var d = b.stateAfter; if (+new Date > a) return ca.push(o), wb(i.workDelay), m && Z.push({ from: c, to: o + 1 }), q = !0; var g = b.highlight(D, e, i.tabSize); g && (m = !0); b.stateAfter = Da(D, e); if (n) {
                    if (d && n(d,
e)) return !0
                } else if (!1 !== g || !d) f = 0; else if (3 < ++f && (!D.indent || D.indent(d, "") == D.indent(e, ""))) return !0; ++o
            }); if (q) return; m && Z.push({ from: c, to: o + 1 })
        } 
    } if (b && i.onHighlightComplete) i.onHighlightComplete(z)
} function wb(a) { ca.length && Hc.set(a, n(Gc)) } function yb() { ga = cb = Ka = null; Z = []; na = !1; Ja = [] } function zb() {
    var a = !1, b; na && (a = !wa()); Z.length ? b = sa(Z, !0) : (na && fc(), aa && Db()); a && wa(); na && (Ea(), bc()); X && !Ia && (!0 === ga || !1 !== ga && na) && Ya(cb); na && i.matchBrackets && setTimeout(n(function () {
        if (ha) { ha(); ha = null } v(c, d) &&
tc(false)
    }), 20); var e = Ka, a = Ja; if (na && i.onCursorActivity) i.onCursorActivity(z); if (e && i.onChange && z) i.onChange(z, e); for (e = 0; e < a.length; ++e) a[e](z); if (b && i.onUpdate) i.onUpdate(z)
} function n(a) { return function () { vc++ || yb(); try { var b = a.apply(this, arguments) } finally { --vc || zb() } return b } } var i = {}, Nb = k.defaults, Qa; for (Qa in Nb) Nb.hasOwnProperty(Qa) && (i[Qa] = (b && b.hasOwnProperty(Qa) ? b : Nb)[Qa]); var A = document.createElement("div"); A.className = "CodeMirror" + (i.lineWrapping ? " CodeMirror-wrap" : ""); A.innerHTML = '<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>';
        a.appendChild ? a.appendChild(A) : a(A); var ua = A.firstChild, t = ua.firstChild, m = A.lastChild, K = m.firstChild, ab = K.firstChild, L = ab.firstChild, Oa = L.firstChild, r = L.nextSibling.firstChild, pa = r.firstChild, O = pa.nextSibling, bb = O.nextSibling, U = bb.nextSibling; kc(); Ob && (t.style.width = "0px"); Pb || (r.draggable = !0); r.style.outline = "none"; null != i.tabindex && (t.tabIndex = i.tabindex); i.autofocus && ea(); !i.gutter && !i.lineNumbers && (L.style.display = "none"); Qb && (ua.style.height = "1px", ua.style.position = "absolute"); try { Cb("x") } catch (Rb) {
            throw Rb.message.match(/runtime/i) &&
(Rb = Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")), Rb;
        } var xb = new Sb, Hc = new Sb, ub, D, l = new kb([new lb([new T("")])]), ca, X; ic(); c = { line: 0, ch: 0 }; d = { line: 0, ch: 0 }; e = !1; var W, mb, Ra, Tb = 0, Ub, $a = !1, Va = !1, ga, cb, Z, Ka, na, Ia, aa, Ja, Na = 0, E = 0, V = 0, ec = 0, ha, ia = "", ja, jc = {}; n(function () { Ga(i.value || ""); ga = false })(); var Y = new Vb; p(m, "mousedown", n(function (a) {
            function b(a) {
                var c = Ca(a, true); if (c && !v(c, l)) {
                    X || ya(); l = c; ma(g, c); ga = false; var h = Fa(); if (c.line >= h.to || c.line <
h.from) s = setTimeout(n(function () { b(a) }), 150)
                } 
            } function e(a) { clearTimeout(s); var b = Ca(a); b && ma(g, b); x(a); ea(); ga = true; o(); k() } ac(C(a, "shiftKey")); for (var f = a.target || a.srcElement; f != A; f = f.parentNode) if (f.parentNode == K && f != ab) return; for (f = a.target || a.srcElement; f != A; f = f.parentNode) if (f.parentNode == Oa) { if (i.onGutterClick) i.onGutterClick(z, Sa(Oa.childNodes, f) + E, a); return x(a) } var g = Ca(a); switch (wc(a)) { case 3: jb && !tb && rc(a); return; case 2: g && oa(g.line, g.ch, true); return } if (g) {
                X || ya(); f = +new Date; if (Ra &&
Ra.time > f - 400 && v(Ra.pos, g)) { x(a); setTimeout(ea, 20); return Ec(g.line) } if (mb && mb.time > f - 400 && v(mb.pos, g)) { Ra = { time: f, pos: g }; x(a); return hc(g) } mb = { time: f, pos: g }; var l = g, s; if (Ic && !i.readOnly && !v(c, d) && !I(g, c) && !I(d, g)) { if (Pb) r.draggable = true; var k = p(document, "mouseup", n(function (b) { if (Pb) r.draggable = false; Ub = false; k(); if (Math.abs(a.clientX - b.clientX) + Math.abs(a.clientY - b.clientY) < 10) { x(b); oa(g.line, g.ch, true); ea() } }), true); Ub = true; r.dragDrop && r.dragDrop() } else {
                    x(a); oa(g.line, g.ch, true); var o = p(document,
"mousemove", n(function (a) { clearTimeout(s); x(a); !ra && !wc(a) ? e(a) : b(a) }), true), k = p(document, "mouseup", n(e), true)
                } 
            } else (a.target || a.srcElement) == m && x(a)
        })); p(m, "dblclick", n(function (a) { for (var b = a.target || a.srcElement; b != A; b = b.parentNode) if (b.parentNode == Oa) return x(a); if (b = Ca(a)) { Ra = { time: +new Date, pos: b }; x(a); hc(b) } })); p(r, "dragstart", function (a) {
            var b = Aa(); a.dataTransfer.setData("Text", b); if (jb || Jc) {
                b = document.createElement("img"); b.scr = "data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=";
                a.dataTransfer.setDragImage(b, 0, 0)
            } 
        }); p(r, "selectstart", x); jb || p(m, "contextmenu", rc); p(m, "scroll", function () { Tb = m.scrollTop; sa([]); if (i.fixedGutter) L.style.left = m.scrollLeft + "px"; if (i.onScroll) i.onScroll(z) }); p(window, "resize", function () { sa(true) }); p(t, "keyup", n(function (a) { if (!i.onKeyEvent || !i.onKeyEvent(z, rb(a))) C(a, "keyCode") == 16 && (W = null) })); p(t, "input", Ma); p(t, "keydown", n($b)); p(t, "keypress", n(function (a) {
            za && Xa(); if (!i.onKeyEvent || !i.onKeyEvent(z, rb(a))) {
                var b = C(a, "keyCode"), c = C(a, "charCode");
                if (window.opera && b == sb) { sb = null; x(a) } else if (!(window.opera && !a.which || Qb) || !Yb(a)) { b = String.fromCharCode(c == null ? b : c); i.electricChars && D.electricChars && i.smartIndent && !i.readOnly && D.electricChars.indexOf(b) > -1 && setTimeout(n(function () { gb(d.line, "smart") }), 75); J(a, b) || Ma() } 
            } 
        })); p(t, "focus", ya); p(t, "blur", R); p(m, "dragenter", Pa); p(m, "dragover", Pa); p(m, "drop", n(function (a) {
            a.preventDefault(); var b = Ca(a, true), e = a.dataTransfer.files; if (b && !i.readOnly) if (e && e.length && window.FileReader && window.File) for (var a =
function (a, c) { var h = new FileReader; h.onload = function () { g[c] = h.result; if (++l == f) { b = B(b); n(function () { var a = H(g.join(""), b, b); ma(b, a) })() } }; h.readAsText(a) }, f = e.length, g = Array(f), l = 0, m = 0; m < f; ++m) a(e[m], m); else try { if (g = a.dataTransfer.getData("Text")) { e = c; a = d; ma(b, b); Ub && H("", e, a); ba(g); ea() } } catch (k) { } 
        })); p(m, "paste", function () { ea(); Ma() }); p(t, "paste", Ma); p(t, "cut", n(function () { i.readOnly || ba("") })); Qb && p(K, "mouseup", function () { document.activeElement == t && t.blur(); ea() }); var xc; try {
            xc = document.activeElement ==
t
        } catch (Kc) { } xc || i.autofocus ? setTimeout(ya, 20) : R(); var z = A.CodeMirror = { getValue: function () { var a = []; l.iter(0, l.size, function (b) { a.push(b.text) }); return a.join("\n") }, setValue: n(Ga), getSelection: Aa, replaceSelection: n(ba), focus: function () { window.focus(); ea(); ya(); Ma() }, setOption: function (a, b) {
            var c = i[a]; i[a] = b; if (a == "mode" || a == "indentUnit") ic(); else if (a == "readOnly" && b == "nocursor") { R(); t.blur() } else a == "readOnly" && !b ? Ya(true) : a == "theme" ? kc() : a == "lineWrapping" && c != b ? n(Fc)() : a == "tabSize" && sa(true); if (a ==
"lineNumbers" || a == "gutter" || a == "firstLineNumber" || a == "theme") { c = i.gutter || i.lineNumbers; L.style.display = c ? "" : "none"; c ? aa = true : U.parentNode.style.marginLeft = 0; sa(true) } 
        }, getOption: function (a) { return i[a] }, undo: n(function () { M(Y.done, Y.undone) }), redo: n(function () { M(Y.undone, Y.done) }), indentLine: n(function (a, b) { typeof b != "string" && (b = b == null ? i.smartIndent ? "smart" : "prev" : b ? "add" : "subtract"); f(a) && gb(a, b) }), indentSelection: n(function (a) {
            if (v(c, d)) return gb(c.line, a); for (var b = d.line - (d.ch ? 0 : 1), e = c.line; e <=
b; ++e) gb(e, a)
        }), historySize: function () { return { undo: Y.done.length, redo: Y.undone.length} }, clearHistory: function () { Y = new Vb }, matchBrackets: n(function () { tc(true) }), getTokenAt: n(function (a) { a = B(a); return g(a.line).getTokenAt(D, hb(a.line), a.ch) }), getStateAfter: function (a) { a = fb(a == null ? l.size - 1 : a); return hb(a + 1) }, cursorCoords: function (a, b) { a == null && (a = e); return this.charCoords(a ? c : d, b) }, charCoords: function (a, b) {
            a = B(a); if (b == "local") return fa(a, false); if (b == "div") return fa(a, true); var c = fa(a, true), d = ta(r);
            return { x: d.left + c.x, y: d.top + c.y, yBot: d.top + c.yBot}
        }, coordsChar: function (a) { var b = ta(r); return Jb(a.x - b.left, a.y - b.top) }, markText: n(Ib), setBookmark: function (a) { var a = B(a), b = new yc(a.ch); g(a.line).addMark(b); return b }, findMarksAt: function (a) { var a = B(a), b = [], c = g(a.line).marked; if (!c) return b; for (var d = 0, e = c.length; d < e; ++d) { var f = c[d]; if ((f.from == null || f.from <= a.ch) && (f.to == null || f.to >= a.ch)) b.push(f.marker || f) } return b }, setMarker: n(function (a, b, c) {
            typeof a == "number" && (a = g(fb(a))); a.gutterMarker = { text: b,
                style: c
            }; aa = true; return a
        }), clearMarker: n(function (a) { typeof a == "number" && (a = g(fb(a))); a.gutterMarker = null; aa = true }), setLineClass: n(function (a, b, c) { return lc(a, function (a) { if (a.className != b || a.bgClassName != c) { a.className = b; a.bgClassName = c; return true } }) }), hideLine: n(function (a) { return Eb(a, true) }), showLine: n(function (a) { return Eb(a, false) }), onDeleteLine: function (a, b) { if (typeof a == "number") { if (!f(a)) return null; a = g(a) } (a.handlers || (a.handlers = [])).push(b); return a }, lineInfo: function (a) {
            if (typeof a ==
"number") { if (!f(a)) return null; var b = a, a = g(a); if (!a) return null } else { b = Ba(a); if (b == null) return null } var c = a.gutterMarker; return { line: b, handle: a, text: a.text, markerText: c && c.text, markerClass: c && c.style, lineClass: a.className, bgClass: a.bgClassName}
        }, addWidget: function (a, b, c, d, e) {
            var a = fa(B(a)), f = a.yBot, g = a.x; b.style.position = "absolute"; K.appendChild(b); if (d == "over") f = a.y; else if (d == "near") {
                var d = Math.max(m.offsetHeight, l.height * ka()), i = Math.max(K.clientWidth, r.clientWidth) - r.offsetLeft; a.yBot + b.offsetHeight >
d && a.y > b.offsetHeight && (f = a.y - b.offsetHeight); g + b.offsetWidth > i && (g = i - b.offsetWidth)
            } b.style.top = f + r.offsetTop + "px"; b.style.left = b.style.right = ""; if (e == "right") { g = K.clientWidth - b.offsetWidth; b.style.right = "0px" } else { e == "left" ? g = 0 : e == "middle" && (g = (K.clientWidth - b.offsetWidth) / 2); b.style.left = g + r.offsetLeft + "px" } c && xa(g, f, g + b.offsetWidth, f + b.offsetHeight)
        }, lineCount: function () { return l.size }, clipPos: B, getCursor: function (a) { a == null && (a = e); return { line: (a ? c : d).line, ch: (a ? c : d).ch} }, somethingSelected: function () {
            return !v(c,
d)
        }, setCursor: n(function (a, b, c) { b == null && typeof a.line == "number" ? oa(a.line, a.ch, c) : oa(a, b, c) }), setSelection: n(function (a, b, c) { (c ? ma : La)(B(a), B(b || a)) }), getLine: function (a) { if (f(a)) return g(a).text }, getLineHandle: function (a) { if (f(a)) return g(a) }, setLine: n(function (a, b) { f(a) && H(b, { line: a, ch: 0 }, { line: a, ch: g(a).text.length }) }), removeLine: n(function (a) { f(a) && H("", { line: a, ch: 0 }, B({ line: a + 1, ch: 0 })) }), replaceRange: n(H), getRange: function (a, b) { return P(B(a), B(b)) }, triggerOnKeyDown: n($b), execCommand: function (a) { return Xb[a](z) },
            moveH: n(function (a, b) { var e = a < 0 ? c : d; if (W || v(c, d)) e = Fb(a, b); oa(e.line, e.ch, true) }), deleteH: n(function (a, b) { v(c, d) ? a < 0 ? H("", Fb(a, b), d) : H("", c, Fb(a, b)) : H("", c, d); cb = true }), moveV: n(function (a, b) { var f = 0, g = fa(e ? c : d, true); if (db != null) g.x = db; b == "page" ? f = Math.min(m.clientHeight, window.innerHeight || document.documentElement.clientHeight) : b == "line" && (f = ka()); f = Jb(g.x, g.y + f * a + 2); if (b == "page") m.scrollTop = m.scrollTop + (fa(f, true).y - g.y); oa(f.line, f.ch, true); db = g.x }), toggleOverwrite: function () {
                if ($a) {
                    $a = false; O.className =
O.className.replace(" CodeMirror-overwrite", "")
                } else { $a = true; O.className = O.className + " CodeMirror-overwrite" } 
            }, posFromIndex: function (a) { var b = 0, c; l.iter(0, l.size, function (d) { d = d.text.length + 1; if (d > a) { c = a; return true } a = a - d; ++b }); return B({ line: b, ch: c }) }, indexFromPos: function (a) { if (a.line < 0 || a.ch < 0) return 0; var b = a.ch; l.iter(0, a.line, function (a) { b = b + (a.text.length + 1) }); return b }, scrollTo: function (a, b) { if (a != null) m.scrollLeft = a; if (b != null) m.scrollTop = b; sa([]) }, operation: function (a) { return n(a)() }, refresh: function () {
                sa(true);
                if (m.scrollHeight > Tb) m.scrollTop = Tb
            }, getInputField: function () { return t }, getWrapperElement: function () { return A }, getScrollerElement: function () { return m }, getGutterElement: function () { return L } 
        }, sb = null, Zb, za = !1, la = "", db = null; Hb.prototype.clear = n(function () { for (var a = Infinity, b = -Infinity, c = 0, d = this.set.length; c < d; ++c) { var e = this.set[c], f = e.marked; if (f && e.parent) { e = Ba(e); a = Math.min(a, e); b = Math.max(b, e); for (e = 0; e < f.length; ++e) f[e].marker == this && f.splice(e--, 1) } } a != Infinity && Z.push({ from: a, to: b + 1 }) }); Hb.prototype.find =
function () { for (var a, b, c = 0, d = this.set.length; c < d; ++c) for (var e = this.set[c], f = e.marked, g = 0; g < f.length; ++g) { var i = f[g]; if (i.marker == this && (i.from != null || i.to != null)) { var l = Ba(e); if (l != null) { i.from != null && (a = { line: l, ch: i.from }); i.to != null && (b = { line: l, ch: i.to }) } } } return { from: a, to: b} }; var nc = Math.floor(16777215 * Math.random()).toString(16), Kb, oc, va, qc, pc = 0, Lb = { "(": ")>", ")": "(<", "[": "]>", "]": "[<", "{": "}>", "}": "{<" }, vc = 0, Ta; for (Ta in nb) nb.propertyIsEnumerable(Ta) && !z.propertyIsEnumerable(Ta) && (z[Ta] = nb[Ta]);
        return z
    } function qb(a) { return "string" == typeof a ? M[a] : a } function Wa(a, b, c, d) { function e(b) { var b = qb(b), c = b[a]; if (null != c && d(c)) return !0; if (b.catchall) return d(b.catchall); b = b.fallthrough; if (null == b) return !1; if ("[object Array]" != Object.prototype.toString.call(b)) return e(b); for (var c = 0, k = b.length; c < k; ++c) if (e(b[c])) return !0; return !1 } return b && e(b) ? !0 : e(c) } function Ac(a) { a = qa[C(a, "keyCode")]; return "Ctrl" == a || "Alt" == a || "Shift" == a || "Mod" == a } function Da(a, b) {
        if (!0 === b) return b; if (a.copyState) return a.copyState(b);
        var c = {}, d; for (d in b) { var e = b[d]; e instanceof Array && (e = e.concat([])); c[d] = e } return c
    } function Mb(a, b, c) { return a.startState ? a.startState(b, c) : !0 } function Ea(a, b) { this.pos = this.start = 0; this.string = a; this.tabSize = b || 8 } function ib(a, b, c, d) { this.from = a; this.to = b; this.style = c; this.marker = d } function yc(a) { this.to = this.from = a; this.line = null } function T(a, b) {
        this.styles = b || [a, null]; this.text = a; this.height = 1; this.stateAfter = this.parent = this.hidden = this.marked = this.gutterMarker = this.className = this.bgClassName =
this.handlers = null
    } function wa(a, b, c, d) { for (var e = 0, f = 0, g = 0; f < b; e += 2) { var k = c[e], p = f + k.length; 0 == g ? (p > a && d.push(k.slice(a - f, Math.min(k.length, b - f)), c[e + 1]), p >= a && (g = 1)) : 1 == g && (p > b ? d.push(k.slice(0, b - f), c[e + 1]) : d.push(k, c[e + 1])); f = p } } function lb(a) { this.lines = a; this.parent = null; for (var b = 0, c = a.length, d = 0; b < c; ++b) a[b].parent = this, d += a[b].height; this.height = d } function kb(a) {
        this.children = a; for (var b = 0, c = 0, d = 0, e = a.length; d < e; ++d) { var f = a[d], b = b + f.chunkSize(), c = c + f.height; f.parent = this } this.size = b; this.height =
c; this.parent = null
    } function Ba(a) { if (null == a.parent) return null; for (var b = a.parent, a = Sa(b.lines, a), c = b.parent; c; b = c, c = c.parent) for (var d = 0; c.children[d] != b; ++d) a += c.children[d].chunkSize(); return a } function Ab(a, b) { var c = 0; a: do { for (var d = 0, e = a.children.length; d < e; ++d) { var f = a.children[d], g = f.height; if (b < g) { a = f; continue a } b -= g; c += f.chunkSize() } return c } while (!a.lines); d = 0; for (e = a.lines.length; d < e; ++d) { f = a.lines[d].height; if (b < f) break; b -= f } return c + d } function Bb(a, b) {
        var c = 0; a: do {
            for (var d = 0, e = a.children.length; d <
e; ++d) { var f = a.children[d], g = f.chunkSize(); if (b < g) { a = f; continue a } b -= g; c += f.height } return c
        } while (!a.lines); for (d = 0; d < b; ++d) c += a.lines[d].height; return c
    } function Vb() { this.time = 0; this.done = []; this.undone = [] } function Wb() { Pa(this) } function rb(a) { a.stop || (a.stop = Wb); return a } function x(a) { a.preventDefault ? a.preventDefault() : a.returnValue = !1 } function ob(a) { a.stopPropagation ? a.stopPropagation() : a.cancelBubble = !0 } function Pa(a) { x(a); ob(a) } function wc(a) {
        if (a.which) return a.which; if (a.button & 1) return 1;
        if (a.button & 2) return 3; if (a.button & 4) return 2
    } function C(a, b) { return a.override && a.override.hasOwnProperty(b) ? a.override[b] : a[b] } function p(a, b, c, d) { if ("function" == typeof a.addEventListener) { if (a.addEventListener(b, c, !1), d) return function () { a.removeEventListener(b, c, !1) } } else { var e = function (a) { c(a || window.event) }; a.attachEvent("on" + b, e); if (d) return function () { a.detachEvent("on" + b, e) } } } function Sb() { this.id = null } function Fa(a, b, c) {
        null == b && (b = a.search(/[^\s\u00a0]/), -1 == b && (b = a.length)); for (var d =
0, e = 0; d < b; ++d) "\t" == a.charAt(d) ? e += c - e % c : ++e; return e
    } function ta(a, b) { for (var c = a.ownerDocument.body, d = 0, e = 0, f = !1, g = a; g; g = g.offsetParent) { var k = g.offsetLeft, p = g.offsetTop; g == c ? (d += Math.abs(k), e += Math.abs(p)) : (d += k, e += p); if (k = b) k = g.currentStyle ? g.currentStyle : window.getComputedStyle(g, null), k = "fixed" == k.position; k && (f = !0) } c = b && !f ? null : c; for (g = a.parentNode; g != c; g = g.parentNode) null != g.scrollLeft && (d -= g.scrollLeft, e -= g.scrollTop); return { left: d, top: e} } function dc(a) {
        Ob ? (a.selectionStart = 0, a.selectionEnd =
a.value.length) : a.select()
    } function v(a, b) { return a.line == b.line && a.ch == b.ch } function I(a, b) { return a.line < b.line || a.line == b.line && a.ch < b.ch } function da(a) { G.textContent = a; return G.innerHTML } function Bc(a, b) { if (!b) return 0; if (!a) return b.length; for (var c = a.length, d = b.length; 0 <= c && 0 <= d && a.charAt(c) == b.charAt(d); --c, --d); return d + 1 } function Sa(a, b) { if (a.indexOf) return a.indexOf(b); for (var c = 0, d = a.length; c < d; ++c) if (a[c] == b) return c; return -1 } function Gb(a) { return /\w/.test(a) || a.toUpperCase() != a.toLowerCase() }
    k.defaults = { value: "", mode: null, theme: "default", indentUnit: 2, indentWithTabs: !1, smartIndent: !0, tabSize: 4, keyMap: "default", extraKeys: null, electricChars: !0, autoClearEmptyLines: !1, onKeyEvent: null, lineWrapping: !1, lineNumbers: !1, gutter: !1, fixedGutter: !1, firstLineNumber: 1, readOnly: !1, onChange: null, onCursorActivity: null, onGutterClick: null, onHighlightComplete: null, onUpdate: null, onFocus: null, onBlur: null, onScroll: null, matchBrackets: !1, workTime: 100, workDelay: 200, pollInterval: 100, undoDepth: 40, tabindex: null, autofocus: null };
    var Ob = /AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent), tb = Ob || /Mac/.test(navigator.platform); /Win/.test(navigator.platform); var xa = k.modes = {}, P = k.mimeModes = {}; k.defineMode = function (a, b) { !k.defaults.mode && "null" != a && (k.defaults.mode = a); xa[a] = b }; k.defineMIME = function (a, b) { P[a] = b }; k.resolveMode = function (a) {
        if ("string" == typeof a && P.hasOwnProperty(a)) a = P[a]; else if ("string" == typeof a && /^[\w\-]+\/[\w\-]+\+xml$/.test(a)) return k.resolveMode("application/xml"); return "string" ==
typeof a ? { name: a} : a || { name: "null"}
    }; k.getMode = function (a, b) { var b = k.resolveMode(b), c = xa[b.name]; return !c ? (window.console && console.warn("No mode " + b.name + " found, falling back to plain text."), k.getMode(a, "text/plain")) : c(a, b) }; k.listModes = function () { var a = [], b; for (b in xa) xa.propertyIsEnumerable(b) && a.push(b); return a }; k.listMIMEs = function () { var a = [], b; for (b in P) P.propertyIsEnumerable(b) && a.push({ mime: b, mode: P[b] }); return a }; var nb = k.extensions = {}; k.defineExtension = function (a, b) { nb[a] = b }; var Xb =
k.commands = { selectAll: function (a) { a.setSelection({ line: 0, ch: 0 }, { line: a.lineCount() - 1 }) }, killLine: function (a) { var b = a.getCursor(!0), c = a.getCursor(!1), d = !v(b, c); !d && a.getLine(b.line).length == b.ch ? a.replaceRange("", b, { line: b.line + 1, ch: 0 }) : a.replaceRange("", b, d ? c : { line: b.line }) }, deleteLine: function (a) { var b = a.getCursor().line; a.replaceRange("", { line: b, ch: 0 }, { line: b }) }, undo: function (a) { a.undo() }, redo: function (a) { a.redo() }, goDocStart: function (a) { a.setCursor(0, 0, !0) }, goDocEnd: function (a) {
    a.setSelection({ line: a.lineCount() -
1
    }, null, !0)
}, goLineStart: function (a) { a.setCursor(a.getCursor().line, 0, !0) }, goLineStartSmart: function (a) { var b = a.getCursor(), c = a.getLine(b.line), c = Math.max(0, c.search(/\S/)); a.setCursor(b.line, b.ch <= c && b.ch ? 0 : c, !0) }, goLineEnd: function (a) { a.setSelection({ line: a.getCursor().line }, null, !0) }, goLineUp: function (a) { a.moveV(-1, "line") }, goLineDown: function (a) { a.moveV(1, "line") }, goPageUp: function (a) { a.moveV(-1, "page") }, goPageDown: function (a) { a.moveV(1, "page") }, goCharLeft: function (a) { a.moveH(-1, "char") }, goCharRight: function (a) {
    a.moveH(1,
"char")
}, goColumnLeft: function (a) { a.moveH(-1, "column") }, goColumnRight: function (a) { a.moveH(1, "column") }, goWordLeft: function (a) { a.moveH(-1, "word") }, goWordRight: function (a) { a.moveH(1, "word") }, delCharLeft: function (a) { a.deleteH(-1, "char") }, delCharRight: function (a) { a.deleteH(1, "char") }, delWordLeft: function (a) { a.deleteH(-1, "word") }, delWordRight: function (a) { a.deleteH(1, "word") }, indentAuto: function (a) { a.indentSelection("smart") }, indentMore: function (a) { a.indentSelection("add") }, indentLess: function (a) { a.indentSelection("subtract") },
    insertTab: function (a) { a.replaceSelection("\t", "end") }, transposeChars: function (a) { var b = a.getCursor(), c = a.getLine(b.line); 0 < b.ch && b.ch < c.length - 1 && a.replaceRange(c.charAt(b.ch) + c.charAt(b.ch - 1), { line: b.line, ch: b.ch - 1 }, { line: b.line, ch: b.ch + 1 }) }, newlineAndIndent: function (a) { a.replaceSelection("\n", "end"); a.indentLine(a.getCursor().line) }, toggleOverwrite: function (a) { a.toggleOverwrite() } 
}, M = k.keyMap = {}; M.basic = { Left: "goCharLeft", Right: "goCharRight", Up: "goLineUp", Down: "goLineDown", End: "goLineEnd", Home: "goLineStartSmart",
    PageUp: "goPageUp", PageDown: "goPageDown", Delete: "delCharRight", Backspace: "delCharLeft", Tab: "insertTab", "Shift-Tab": "indentAuto", Enter: "newlineAndIndent", Insert: "toggleOverwrite"
}; M.pcDefault = { "Ctrl-A": "selectAll", "Ctrl-D": "deleteLine", "Ctrl-Z": "undo", "Shift-Ctrl-Z": "redo", "Ctrl-Y": "redo", "Ctrl-Home": "goDocStart", "Alt-Up": "goDocStart", "Ctrl-End": "goDocEnd", "Ctrl-Down": "goDocEnd", "Ctrl-Left": "goWordLeft", "Ctrl-Right": "goWordRight", "Alt-Left": "goLineStart", "Alt-Right": "goLineEnd", "Ctrl-Backspace": "delWordLeft",
    "Ctrl-Delete": "delWordRight", "Ctrl-S": "save", "Ctrl-F": "find", "Ctrl-G": "findNext", "Shift-Ctrl-G": "findPrev", "Shift-Ctrl-F": "replace", "Shift-Ctrl-R": "replaceAll", "Ctrl-[": "indentLess", "Ctrl-]": "indentMore", fallthrough: "basic"
}; M.macDefault = { "Cmd-A": "selectAll", "Cmd-D": "deleteLine", "Cmd-Z": "undo", "Shift-Cmd-Z": "redo", "Cmd-Y": "redo", "Cmd-Up": "goDocStart", "Cmd-End": "goDocEnd", "Cmd-Down": "goDocEnd", "Alt-Left": "goWordLeft", "Alt-Right": "goWordRight", "Cmd-Left": "goLineStart", "Cmd-Right": "goLineEnd", "Alt-Backspace": "delWordLeft",
    "Ctrl-Alt-Backspace": "delWordRight", "Alt-Delete": "delWordRight", "Cmd-S": "save", "Cmd-F": "find", "Cmd-G": "findNext", "Shift-Cmd-G": "findPrev", "Cmd-Alt-F": "replace", "Shift-Cmd-Alt-F": "replaceAll", "Cmd-[": "indentLess", "Cmd-]": "indentMore", fallthrough: ["basic", "emacsy"]
}; M["default"] = tb ? M.macDefault : M.pcDefault; M.emacsy = { "Ctrl-F": "goCharRight", "Ctrl-B": "goCharLeft", "Ctrl-P": "goLineUp", "Ctrl-N": "goLineDown", "Alt-F": "goWordRight", "Alt-B": "goWordLeft", "Ctrl-A": "goLineStart", "Ctrl-E": "goLineEnd", "Ctrl-V": "goPageUp",
    "Shift-Ctrl-V": "goPageDown", "Ctrl-D": "delCharRight", "Ctrl-H": "delCharLeft", "Alt-D": "delWordRight", "Alt-Backspace": "delWordLeft", "Ctrl-K": "killLine", "Ctrl-T": "transposeChars"
}; k.fromTextArea = function (a, b) {
    function c() { a.value = g.getValue() } b || (b = {}); b.value = a.value; !b.tabindex && a.tabindex && (b.tabindex = a.tabindex); null == b.autofocus && null != a.getAttribute("autofocus") && (b.autofocus = !0); if (a.form) {
        var d = p(a.form, "submit", c, !0); if ("function" == typeof a.form.submit) {
            var e = a.form.submit, f = function () {
                c(); a.form.submit =
e; a.form.submit(); a.form.submit = f
            }; a.form.submit = f
        } 
    } a.style.display = "none"; var g = k(function (b) { a.parentNode.insertBefore(b, a.nextSibling) }, b); g.save = c; g.getTextArea = function () { return a }; g.toTextArea = function () { c(); a.parentNode.removeChild(g.getWrapperElement()); a.style.display = ""; if (a.form) { d(); if (typeof a.form.submit == "function") a.form.submit = e } }; return g
}; k.copyState = Da; k.startState = Mb; Ea.prototype = { eol: function () { return this.pos >= this.string.length }, sol: function () { return 0 == this.pos }, peek: function () { return this.string.charAt(this.pos) },
    next: function () { if (this.pos < this.string.length) return this.string.charAt(this.pos++) }, eat: function (a) { var b = this.string.charAt(this.pos); if ("string" == typeof a ? b == a : b && (a.test ? a.test(b) : a(b))) return ++this.pos, b }, eatWhile: function (a) { for (var b = this.pos; this.eat(a); ); return this.pos > b }, eatSpace: function () { for (var a = this.pos; /[\s\u00a0]/.test(this.string.charAt(this.pos)); ) ++this.pos; return this.pos > a }, skipToEnd: function () { this.pos = this.string.length }, skipTo: function (a) {
        a = this.string.indexOf(a, this.pos);
        if (-1 < a) return this.pos = a, !0
    }, backUp: function (a) { this.pos -= a }, column: function () { return Fa(this.string, this.start, this.tabSize) }, indentation: function () { return Fa(this.string, null, this.tabSize) }, match: function (a, b, c) { if ("string" == typeof a) { if ((c ? this.string.toLowerCase() : this.string).indexOf(c ? a.toLowerCase() : a, this.pos) == this.pos) return !1 !== b && (this.pos += a.length), !0 } else { if ((a = this.string.slice(this.pos).match(a)) && !1 !== b) this.pos += a[0].length; return a } }, current: function () {
        return this.string.slice(this.start,
this.pos)
    } 
}; k.StringStream = Ea; ib.prototype = { attach: function (a) { this.marker.set.push(a) }, detach: function (a) { a = Sa(this.marker.set, a); -1 < a && this.marker.set.splice(a, 1) }, split: function (a, b) { return this.to <= a && null != this.to ? null : new ib(this.from < a || null == this.from ? null : this.from - a + b, null == this.to ? null : this.to - a + b, this.style, this.marker) }, dup: function () { return new ib(null, null, this.style, this.marker) }, clipTo: function (a, b, c, d, e) {
    a && d > this.from && (d < this.to || null == this.to) ? this.from = null : null != this.from &&
this.from >= b && (this.from = Math.max(d, this.from) + e); c && (b < this.to || null == this.to) && (b > this.from || null == this.from) ? this.to = null : null != this.to && this.to > b && (this.to = d < this.to ? this.to + e : b)
}, isDead: function () { return null != this.from && null != this.to && this.from >= this.to }, sameSet: function (a) { return this.marker == a.marker } 
}; yc.prototype = { attach: function (a) { this.line = a }, detach: function (a) { this.line == a && (this.line = null) }, split: function (a, b) { if (a < this.from) return this.from = this.to = this.from - a + b, this }, isDead: function () {
    return this.from >
this.to
}, clipTo: function (a, b, c, d, e) { (a || b < this.from) && (c || d > this.to) ? (this.from = 0, this.to = -1) : this.from > b && (this.from = this.to = Math.max(d, this.from) + e) }, sameSet: function () { return !1 }, find: function () { return !this.line || !this.line.parent ? null : { line: Ba(this.line), ch: this.from} }, clear: function () { if (this.line) { var a = Sa(this.line.marked, this); -1 != a && this.line.marked.splice(a, 1); this.line = null } } 
}; T.inheritMarks = function (a, b) {
    var c = new T(a), d = b && b.marked; if (d) for (var e = 0; e < d.length; ++e) if (null == d[e].to && d[e].style) {
        var f =
c.marked || (c.marked = []), g = d[e].dup(); f.push(g); g.attach(c)
    } return c
}; T.prototype = { replace: function (a, b, c) { var d = [], e = this.marked, f = null == b ? this.text.length : b; wa(0, a, this.styles, d); c && d.push(c, null); wa(f, this.text.length, this.styles, d); this.styles = d; this.text = this.text.slice(0, a) + c + this.text.slice(f); this.stateAfter = null; if (e) { c = c.length - (f - a); for (d = 0; d < e.length; ++d) { var g = e[d]; g.clipTo(null == a, a || 0, null == b, f, c); g.isDead() && (g.detach(this), e.splice(d--, 1)) } } }, split: function (a, b) {
    var c = [b, null], d = this.marked;
    wa(a, this.text.length, this.styles, c); c = new T(b + this.text.slice(a), c); if (d) for (var e = 0; e < d.length; ++e) { var f = d[e], g = f.split(a, b.length); g && (c.marked || (c.marked = []), c.marked.push(g), g.attach(c), g == f && d.splice(e--, 1)) } return c
}, append: function (a) {
    var b = this.text.length, c = a.marked, d = this.marked; this.text += a.text; wa(0, a.text.length, a.styles, this.styles); if (d) for (a = 0; a < d.length; ++a) null == d[a].to && (d[a].to = b); if (c && c.length) {
        d || (this.marked = d = []); a = 0; a: for (; a < c.length; ++a) {
            var e = c[a]; if (!e.from) for (var f =
0; f < d.length; ++f) { var g = d[f]; if (g.to == b && g.sameSet(e)) { g.to = null == e.to ? null : e.to + b; g.isDead() && (g.detach(this), c.splice(a--, 1)); continue a } } d.push(e); e.attach(this); e.from += b; null != e.to && (e.to += b)
        } 
    } 
}, fixMarkEnds: function (a) { var b = this.marked, a = a.marked; if (b) for (var c = 0; c < b.length; ++c) { var d = b[c], e = null == d.to; if (e && a) for (var f = 0; f < a.length; ++f) if (a[f].sameSet(d)) { e = !1; break } e && (d.to = this.text.length) } }, fixMarkStarts: function () {
    var a = this.marked; if (a) for (var b = 0; b < a.length; ++b) null == a[b].from && (a[b].from =
0)
}, addMark: function (a) { a.attach(this); null == this.marked && (this.marked = []); this.marked.push(a); this.marked.sort(function (a, c) { return (a.from || 0) - (c.from || 0) }) }, highlight: function (a, b, c) {
    var c = new Ea(this.text, c), d = this.styles, e = 0, f = !1, g = d[0], k; for ("" == this.text && a.blankLine && a.blankLine(b); !c.eol(); ) {
        var p = a.token(c, b), v = this.text.slice(c.start, c.pos); c.start = c.pos; if (e && d[e - 1] == p) d[e - 2] += v; else if (v) { if (!f && (d[e + 1] != p || e && d[e - 2] != k)) f = !0; d[e++] = v; d[e++] = p; k = g; g = d[e] } if (5E3 < c.pos) {
            d[e++] = this.text.slice(c.pos);
            d[e++] = null; break
        } 
    } d.length != e && (d.length = e, f = !0); e && d[e - 2] != k && (f = !0); return f || (5 > d.length && 10 > this.text.length ? null : !1)
}, getTokenAt: function (a, b, c) { for (var d = new Ea(this.text); d.pos < c && !d.eol(); ) { d.start = d.pos; var e = a.token(d, b) } return { start: d.start, end: d.pos, string: d.current(), className: e || null, state: b} }, indentation: function (a) { return Fa(this.text, null, a) }, getHTML: function (a, b) {
    function c(b, c) {
        if (b) {
            f && ra && " " == b.charAt(0) && (b = "\u00a0" + b.slice(1)); f = !1; if (-1 == b.indexOf("\t")) {
                g += b.length; var d =
da(b)
            } else for (var d = "", k = 0; ; ) { var p = b.indexOf("\t", k); if (-1 == p) { d += da(b.slice(k)); g += b.length - k; break } else { g += p - k; var v = a(g), d = d + (da(b.slice(k, p)) + v.html); g += v.width; k = p + 1 } } c ? e.push('<span class="', c, '">', d, "</span>") : e.push(d)
        } 
    } function d(a) { return !a ? null : "cm-" + a.replace(/ +/g, " cm-") } var e = [], f = !0, g = 0, k = this.styles, p = this.text, v = this.marked, x = p.length; null != b && (x = Math.min(b, x)); if (!p && null == b) c(" "); else if (!v || !v.length) for (var J = p = 0; J < x; p += 2) {
        var C = k[p], M = k[p + 1], R = C.length; J + R > x && (C = C.slice(0,
x - J)); J += R; c(C, d(M))
    } else for (var Q = 0, p = 0, J = "", I = v[0].from || 0, G = [], H = 0, C = function () { for (var a; H < v.length && ((a = v[H]).from == Q || null == a.from); ) null != a.style && G.push(a), ++H; I = H < v.length ? v[H].from : Infinity; for (a = 0; a < G.length; ++a) { var b = G[a].to || Infinity; b == Q ? G.splice(a--, 1) : I = Math.min(b, I) } }; Q < x; ) { I == Q && C(); for (R = Math.min(x, I); ; ) { if (J) { for (var ba = Q + J.length, P = M, T = 0; T < G.length; ++T) P = (P ? P + " " : "") + G[T].style; c(ba > R ? J.slice(0, R - Q) : J, P); if (ba >= R) { J = J.slice(R - Q); Q = R; break } Q = ba } J = k[p++]; M = d(k[p++]) } } return e.join("")
},
    cleanUp: function () { this.parent = null; if (this.marked) for (var a = 0, b = this.marked.length; a < b; ++a) this.marked[a].detach(this) } 
}; lb.prototype = { chunkSize: function () { return this.lines.length }, remove: function (a, b, c) { for (var d = a, e = a + b; d < e; ++d) { var f = this.lines[d]; this.height -= f.height; f.cleanUp(); if (f.handlers) for (var g = 0; g < f.handlers.length; ++g) c.push(f.handlers[g]) } this.lines.splice(a, b) }, collapse: function (a) { a.splice.apply(a, [a.length, 0].concat(this.lines)) }, insertHeight: function (a, b, c) {
    this.height += c; this.lines.splice.apply(this.lines,
[a, 0].concat(b)); a = 0; for (c = b.length; a < c; ++a) b[a].parent = this
}, iterN: function (a, b, c) { for (b = a + b; a < b; ++a) if (c(this.lines[a])) return !0 } 
}; kb.prototype = { chunkSize: function () { return this.size }, remove: function (a, b, c) {
    this.size -= b; for (var d = 0; d < this.children.length; ++d) { var e = this.children[d], f = e.chunkSize(); if (a < f) { var g = Math.min(b, f - a), k = e.height; e.remove(a, g, c); this.height -= k - e.height; f == g && (this.children.splice(d--, 1), e.parent = null); if (0 == (b -= g)) break; a = 0 } else a -= f } 25 > this.size - b && (a = [], this.collapse(a),
this.children = [new lb(a)], this.children[0].parent = this)
}, collapse: function (a) { for (var b = 0, c = this.children.length; b < c; ++b) this.children[b].collapse(a) }, insert: function (a, b) { for (var c = 0, d = 0, e = b.length; d < e; ++d) c += b[d].height; this.insertHeight(a, b, c) }, insertHeight: function (a, b, c) {
    this.size += b.length; this.height += c; for (var d = 0, e = this.children.length; d < e; ++d) {
        var f = this.children[d], g = f.chunkSize(); if (a <= g) {
            f.insertHeight(a, b, c); if (f.lines && 50 < f.lines.length) {
                for (; 50 < f.lines.length; ) a = f.lines.splice(f.lines.length -
25, 25), a = new lb(a), f.height -= a.height, this.children.splice(d + 1, 0, a), a.parent = this; this.maybeSpill()
            } break
        } a -= g
    } 
}, maybeSpill: function () { if (!(10 >= this.children.length)) { var a = this; do { var b = a.children.splice(a.children.length - 5, 5), b = new kb(b); if (a.parent) { a.size -= b.size; a.height -= b.height; var c = Sa(a.parent.children, a); a.parent.children.splice(c + 1, 0, b) } else c = new kb(a.children), c.parent = a, a.children = [c, b], a = c; b.parent = a.parent } while (10 < a.children.length); a.parent.maybeSpill() } }, iter: function (a, b, c) {
    this.iterN(a,
b - a, c)
}, iterN: function (a, b, c) { for (var d = 0, e = this.children.length; d < e; ++d) { var f = this.children[d], g = f.chunkSize(); if (a < g) { g = Math.min(b, g - a); if (f.iterN(a, g, c)) return !0; if (0 == (b -= g)) break; a = 0 } else a -= g } } 
}; Vb.prototype = { addChange: function (a, b, c) {
    this.undone.length = 0; var d = +new Date, e = this.done[this.done.length - 1], f = e && e[e.length - 1]; if (400 < d - this.time || !f) this.done.push([{ start: a, added: b, old: c}]); else if (f.start > a + c.length || f.start + f.added < a - f.added + f.old.length) e.push({ start: a, added: b, old: c }); else {
        e =
0; if (a < f.start) { for (e = f.start - a - 1; 0 <= e; --e) f.old.unshift(c[e]); e = Math.min(0, b - c.length); f.added += f.start - a + e; f.start = a } else f.start < a && (e = a - f.start, b += e); e = f.added - e; for (a = c.length; e < a; ++e) f.old.push(c[e]); f.added < b && (f.added = b)
    } this.time = d
} 
}; k.e_stop = Pa; k.e_preventDefault = x; k.e_stopPropagation = ob; k.connect = p; Sb.prototype = { set: function (a, b) { clearTimeout(this.id); this.id = setTimeout(b, a) } }; var zc = k.Pass = { toString: function () { return "CodeMirror.Pass" } }, jb = /gecko\/\d{7}/i.test(navigator.userAgent), ra = /MSIE \d/.test(navigator.userAgent),
sc = /MSIE [1-8]\b/.test(navigator.userAgent), Pb = /WebKit\//.test(navigator.userAgent), Jc = /Chrome\//.test(navigator.userAgent), Qb = /KHTML\//.test(navigator.userAgent), Ic = function () { if (sc) return !1; var a = document.createElement("div"); return "draggable" in a || "dragDrop" in a } (); (function () { var a = document.createElement("textarea"); a.value = "foo\nbar"; a.value.indexOf("\r") })(); null != document.documentElement.getBoundingClientRect && (ta = function (a, b) {
    try { var c = a.getBoundingClientRect(), c = { top: c.top, left: c.left} } catch (d) {
        c =
{ top: 0, left: 0}
    } if (!b) if (null == window.pageYOffset) { var e = document.documentElement || document.body.parentNode; null == e.scrollTop && (e = document.body); c.top += e.scrollTop; c.left += e.scrollLeft } else c.top += window.pageYOffset, c.left += window.pageXOffset; return c
}); var G = document.createElement("pre"); "\na" == da("a") ? da = function (a) { G.textContent = a; return G.innerHTML.slice(1) } : "\t" != da("\t") && (da = function (a) { G.innerHTML = ""; G.appendChild(document.createTextNode(a)); return G.innerHTML }); k.htmlEscape = da; var Ha = 3 != "\n\nb".split(/\n/).length ?
function (a) { for (var b = 0, c, d = []; -1 < (c = a.indexOf("\n", b)); ) d.push(a.slice(b, "\r" == a.charAt(c - 1) ? c - 1 : c)), b = c + 1; d.push(a.slice(b)); return d } : function (a) { return a.split(/\r?\n/) }; k.splitLines = Ha; var Dc = window.getSelection ? function (a) { try { return a.selectionStart != a.selectionEnd } catch (b) { return !1 } } : function (a) { try { var b = a.ownerDocument.selection.createRange() } catch (c) { } return !b || b.parentElement() != a ? !1 : 0 != b.compareEndPoints("StartToEnd", b) }; k.defineMode("null", function () { return { token: function (a) { a.skipToEnd() } } });
    k.defineMIME("text/plain", "null"); var qa = { 3: "Enter", 8: "Backspace", 9: "Tab", 13: "Enter", 16: "Shift", 17: "Ctrl", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Esc", 32: "Space", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "Left", 38: "Up", 39: "Right", 40: "Down", 44: "PrintScrn", 45: "Insert", 46: "Delete", 59: ";", 91: "Mod", 92: "Mod", 93: "Mod", 127: "Delete", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\", 221: "]", 222: "'", 63276: "PageUp", 63277: "PageDown", 63275: "End", 63273: "Home", 63234: "Left", 63232: "Up", 63235: "Right",
        63233: "Down", 63302: "Insert", 63272: "Delete"
    }; k.keyNames = qa; (function () { for (var a = 0; 10 > a; a++) qa[a + 48] = "" + a; for (a = 65; 90 >= a; a++) qa[a] = String.fromCharCode(a); for (a = 1; 12 >= a; a++) qa[a + 111] = qa[a + 63235] = "F" + a })(); return k
} ();